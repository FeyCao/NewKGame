<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>KGame趋势突击</title>
    <link rel="icon" type="image/GIF" href="res/favicon.ico"/>

    <meta name="viewport"
        content="width=device-width,user-scalable=no,initial-scale=1, minimum-scale=1,maximum-scale=1,target-densitydpi=device-dpi"/>
        <!--content="width=device-width,user-scalable=no,initial-scale=1, minimum-scale=1,maximum-scale=1,target-densitydpi=device-dpi"/>-->
    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
    <!--https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html-->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">

    <!-- force webkit on 360 -->
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <!-- force edge on IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="msapplication-tap-highlight" content="no">

    <!-- force full screen on some browser -->
    <meta name="full-screen" content="yes"/>
    <meta name="x5-fullscreen" content="true"/>
    <meta name="360-fullscreen" content="true"/>

    <!-- force screen orientation on some browser -->
    <!--<meta name="screen-orientation" content="portrait"/>-->
    <!--<meta name="x5-orientation" content="portrait">-->

    <meta name="browsermode" content="application">
    <meta name="x5-page-mode" content="app">


    <style type="text/css">
html {
  -ms-touch-action: none;
}

body, canvas, div {
  margin: 0;
  padding: 0;
  outline: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  -khtml-user-select: none;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

body {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  padding: 0;
  border: 0;
  margin: 0;

  cursor: default;
  color: #888;
  background-color: #0F6094;

  text-align: center;
  font-family: Helvetica, Verdana, Arial, sans-serif;

  display: flex;
  flex-direction: column;
}

#Cocos2dGameContainer {
  position: absolute;
  margin: 0;
  overflow: hidden;
  left: 0px;
  top: 0px;

  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: center;
  -webkit-box-pack: center;
}

canvas {
  background-color: rgba(0, 0, 0, 0);
}
</style>
</head>
<body>
<!--<script src="res/loading.js"></script>-->
<canvas id="gameCanvas" width="960" height="640"></canvas>
<script>

    var nav = window.navigator;
    var ua = nav.userAgent.toLowerCase();
    var iOS = ( ua.match(/(iPad|iPhone|iPod)/i) ? true : false );
    var isAndroid = ua.match(/android/i) || nav.platform.match(/android/i) ? true : false;
    var isWeChat = ua.match(/MicroMessenger/i) == 'micromessenger'? true : false;
    //屏幕方向标识，0横屏，其他值竖屏
//    var orientation=0;
    //转屏事件，内部功能可以自定义
    function screenOrientationEvent(){
        var isMobile = ua.indexOf('mobile') !== -1 || ua.indexOf('android') !== -1;
//        if(!isMobile||iOS||!isWeChat){return;}
        if(!isMobile){return;}
        if(window.innerHeight < window.innerWidth){
            console.info("================横");
//               window.document.getElementById('game').css('height',window.innerHeight);
//               window.document.getElementById('game').css('width',window.innerWidth);
//               window.document.getElementById('game').css('transform' , 'none');
//               window.document.getElementById('game').css('transform-origin' , '50% 50%');
//            window.location.href="index.html"+window.location.search;
//               window.document.getElementById('game').height=window.innerHeight;
//               window.document.getElementById('game').width=window.innerWidth;
//               window.document.getElementById('game').window.location.reload();
//               window.document.getElementById('game').rotate(0);
        }
        else {
            console.info("===================竖");
            window.location.href="indexGame.html"+window.location.search;
//               window.document.getElementById('game').height=window.innerWidth;
//               window.document.getElementById('game').width=window.innerHeight;
//               window.document.getElementById('game').window.location.reload();
//               window.document.getElementById('game').rotate(90);
//               window.document.getElementById('game').transform-origin={50,50};
//               window.document.getElementById('game').css('height',window.innerWidth);
//               window.document.getElementById('game').css('width',window.innerHeight);
//               window.document.getElementById('game').css('transform' , 'rotate(90deg)');
//               window.document.getElementById('game').css('transform-origin' , '50% 50%');
////               window.location.href="indexGame.html"+window.location.search;
        }
    }
    var innerWidthTmp = window.innerWidth;
    //横竖屏事件监听方法
    function screenOrientationListener(){
        try{
            var iw = window.innerWidth;
//屏幕方向改变处理
            if(iw != innerWidthTmp){
//                if(iw<window.innerHeight)orientation = 90;
//                else orientation = 0;
//调用转屏事件
                screenOrientationEvent();
                innerWidthTmp = iw;
            }
        } catch(e){alert(e);};
//间隔固定事件检查是否转屏，默认500毫秒
        setTimeout("screenOrientationListener()",500);
    }
    //
    screenOrientationEvent();
    //启动横竖屏事件监听
    screenOrientationListener();

    (function () {
        var nav = window.navigator;
        var ua = nav.userAgent.toLowerCase();
        var uaResult = /android (\d+(?:\.\d+)+)/i.exec(ua) || /android (\d+(?:\.\d+)+)/i.exec(nav.platform);
        if (uaResult) {
            var browserCheck = ua.match(/(qzone|micromessenger|qq)(mobile)?(browser)?\/?([\d.]+)/i);
            if (browserCheck) {
                var browserVersion = parseFloat(browserCheck[4] || 0);
                if (browserVersion < 6.2) {
                    var gameCanvas = document.getElementById("gameCanvas");
                    var ctx = gameCanvas.getContext('2d');
                    ctx.fillStyle = '#000000';
//                    ctx.fillStyle = '#0F6094';
                    ctx.fillRect(0, 0, 1, 1);
                }
            }
        }
    })();
    var shareFlag = false;

</script>
<script src="frameworks/cocos2d-html5/CCBoot.js"></script>
<script cocos src="main.js?version=2017.10.16"></script>
</body>
</html>